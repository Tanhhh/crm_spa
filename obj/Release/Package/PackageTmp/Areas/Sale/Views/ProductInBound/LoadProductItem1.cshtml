@model Erp.BackOffice.Sale.Models.ProductInboundDetailViewModel
@using Erp.BackOffice.Helpers
@{
    ViewBag.isGiaNhap = "true";//Erp.BackOffice.Helpers.Common.GetSetting("hiden_gianhap");
    var thanh_tien = Math.Round(Model.Quantity.Value * Model.Price.Value, 0);
    var locode_null = string.IsNullOrEmpty(Model.LoCode) ? "locode_null" : "";
    var valid_null = string.IsNullOrEmpty(Model.LoCode) ? "locode valid_null" : "";
}
<tr role="role_@(Model.OrderNo)" id="product_item_@Model.OrderNo" data-id="@Model.OrderNo">
    <td class="text-center">
        <span>@(Model.OrderNo + 1)</span>
        @*<br />
            <label class="toggle_template_location label label-info" data-toggle="tooltip" data-placement="right" title="Bấm để hiển thị danh sách mã vạch và vị trí sản phẩm"><i class="fa fa-angle-double-down"></i></label>*@
    </td>

    <td class="detail_item_id">
        @Html.Hidden("DetailList[" + Model.OrderNo + "].ProductId", Model.ProductId)
        @Html.Hidden("DetailList[" + Model.OrderNo + "].ProductId", Model.ProductCode)
        @Model.ProductCode - @Model.ProductName
    </td>
    @*<td class="detail_locode">
            @Html.TextBox("DetailList[" + Model.OrderNo + "].LoCode", Model.LoCode, new { @style = "width:100px;", @class = valid_null })
            <input class="form-control input-mask-date" type="text" id="DetailList_@(Model.OrderNo)_ExpiryDate" name="DetailList[@Model.OrderNo].ExpiryDate" value="@Model.ExpiryDate" style=" width:100px;">
        </td>*@
    <td class="has-error">
        <input type="hidden" name="DetailList[@(Model.OrderNo)].Unit" value="" class="detail_item_unit" />
        <input type="text" style="width:100%" value="@Model.Quantity" data-val-range="Số lượng phải lớn hơn 1" name="DetailList[@Model.OrderNo].Quantity" id="DetailList_@(Model.OrderNo)_Quantity" class="detail_item_qty numberinput1" autocomplete="off" />
        <span style="display:block; font-size:11px;" class="field-validation-valid help-inline" data-valmsg-for="DetailList_@(Model.OrderNo)_Quantity" data-valmsg-replace="false"></span>
    </td>
    <td class="" hidden>
        @*<input class="detail_item_price numberinput3" type="text" id="Price_@(Model.OrderNo)" name="DetailList[@(Model.OrderNo)].Price" value=@Model.Price style="width:80px" data-val="true" data-val-required="Chưa nhập giá" autocomplete="off" />*@

        @Html.TextBox("DetailList[" + Model.OrderNo + "].Price", Model.Price, new { style = "width:85px", @class = "detail_item_price", autocomplete = "off" })
        <span hidden style="display:block; font-size:11px;" class="field-validation-valid help-inline" data-valmsg-for="Price_@(Model.OrderNo)" data-valmsg-replace="false"></span>
    </td>
    @if (ViewBag.isGiaNhap == "true")
    {
        <td style="display:none;" class="detail_item_total">@Erp.BackOffice.Helpers.CommonSatic.ToCurrencyStr(thanh_tien, null)</td>
    }
    else
    {
        <td class="detail_item_total">@Erp.BackOffice.Helpers.CommonSatic.ToCurrencyStr(thanh_tien, null)</td>
    }
    <!--Giam gia-->
    <td hidden class="" style="padding-bottom: 58px;">
        <input class="discountInputitem" id="Discount+@Model.OrderNo" type="text" style="width: 70px;" value="0">
        <div class="toggle">
            <input type="checkbox"   id="toggle+@Model.OrderNo" style="width:70px"  />
            <div class="toggle-handle"></div>
            <label for="toggle+@Model.OrderNo" id="toggle+@Model.OrderNo" onclick ="clickToggle(this.id);"></label>
        </div>
    </td>
    <!--Thành tiền-->
    <td class="">
        <input id="thanhtien" type="text" style="width:70px" />
    </td>
    <td class="text-center">
        <a class="btn-delete-item">
            <i class="ace-icon fa fa-trash red bigger-120" style="cursor:pointer"></i>
        </a>
    </td>
</tr>
